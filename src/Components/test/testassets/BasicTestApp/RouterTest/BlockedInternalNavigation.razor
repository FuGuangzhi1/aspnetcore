@page "/BlockedInternalNavigation"

@using Microsoft.AspNetCore.Components.Routing

<input type="checkbox" @bind-value="_unblockedNavigation" />Unblock navigation<br />

<NavigationLock OnBeforeInternalNavigation="OnBeforeInternalNavigation" />

@code {
    private bool _unblockedNavigation;

    private void OnBeforeInternalNavigation(LocationChangingContext context)
    {
        if (!_unblockedNavigation)
        {
            context.PreventNavigation();
        }
    }
}
